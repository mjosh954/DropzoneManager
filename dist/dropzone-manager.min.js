var DropzoneManager=function(){"use strict";function e(r){return this instanceof e?(this.self=this,this.dropzones={},void(r&&r.forEach(function(e){this.self.register(e)}))):new e(r)}function r(){}function o(e){return e instanceof Dropzone}function n(e,r){return"undefined"!==e[r]&&o(e[r])}return e.prototype.register=function(e,n,t){return o(e)?(t||"function"!=typeof n||(t=n,n={}),r(e),this.dropzones[e.options.id]=e,t&&"function"==typeof t?t(null,e):void 0):t(new Error("Not a valid dropzone to register"))},e.prototype.processAll=function(e,r){if(r||"function"!=typeof e||(r=e,e={},e.order="ASC"),!this.hasRegisteredDropzones())return r(new Error("Manager has no dropzones registered"));var o=Object.keys(this.dropzones),t=[];return o.forEach(function(e){n(e)&&this.processById(e,function(e,r){e||t.push(r)})}),r&&"function"==typeof r?r(null,t):void 0},e.prototype.processById=function(e,r){if(!this.hasRegisteredDropzones())return r(new Error("Manager has no dropzones registered"));if(!n(this.dropzones,e))return r(new Error('"'+e+'" is not a registered Dropzone'));var o=this.dropzones[e];return o.processQueue(),r&&"function"==typeof r?r(null,o):o},e.prototype.removeById=function(e,r){if(!this.hasRegisteredDropzones())return r(new Error("Manager has no dropzones registered"),null);if(n(this.dropzones,e))return r(new Error('"'+e+'" is not a registered Dropzone'));var o=this.dropzones[e];return delete this.dropzones[e],r&&"function"==typeof r?r(null,o):o},e.prototype.unregisterAll=function(e){if(!this.hasRegisteredDropzones())return e(new Error("Manager has no dropzones registered."));var r=JSON.parse(JSON.stringify(this.dropzones));return this.dropzones={},e&&"function"==typeof e?e(null,r):r},e.prototype.hasAnyQueuedFiles=function(){var e=!1;if(this.hasRegisteredDropzones()){var r=Object.keys(this.dropzones);r.forEach(function(r){n(r)&&this.dropzones[r].files.forEach(function(r){return"queued"===r.status?void(e=!0):void 0}),e})}return e},e.prototype.hasRegisteredDropzones=function(){return Object.keys(this.dropzones).length>0},e.createDropzone=function(e,r){var o=new Dropzone(e,r);return o},e}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3B6b25lLW1hbmFnZXIuanMiXSwibmFtZXMiOlsiRHJvcHpvbmVNYW5hZ2VyIiwiZHJvcHpvbmVzIiwidGhpcyIsInNlbGYiLCJmb3JFYWNoIiwiZHJvcHpvbmUiLCJyZWdpc3RlciIsImluaXREcm9wem9uZSIsImlzRHJvcHpvbmVJbnN0YW5jZSIsIkRyb3B6b25lIiwiaXNSZWdpc3RlcmVkIiwiaWQiLCJwcm90b3R5cGUiLCJvcHRpb25zIiwiY2FsbGJhY2siLCJFcnJvciIsInByb2Nlc3NBbGwiLCJvcmRlciIsImhhc1JlZ2lzdGVyZWREcm9wem9uZXMiLCJpZHMiLCJPYmplY3QiLCJrZXlzIiwicHJvY2Vzc0J5SWQiLCJlcnIiLCJwdXNoIiwicHJvY2Vzc2VkRHJvcHpvbmUiLCJwcm9jZXNzUXVldWUiLCJyZW1vdmVCeUlkIiwicmVtb3ZlZERyb3B6b25lIiwidW5yZWdpc3RlckFsbCIsInVucmVnaXN0ZXJlZERyb3B6b25lcyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImhhc0FueVF1ZXVlZEZpbGVzIiwiaGFzUXVldWVkIiwiZmlsZXMiLCJmaWxlIiwic3RhdHVzIiwibGVuZ3RoIiwiY3JlYXRlRHJvcHpvbmUiLCJuZXdEcm9wem9uZSJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBQUEsaUJBQUEsV0FDQSxZQUVBLFNBQUFBLEdBQUFDLEdBQ0EsTUFBQUMsZ0JBQUFGLElBR0FFLEtBQUFDLEtBQUFELEtBQ0FBLEtBQUFELGtCQUVBQSxHQUNBQSxFQUFBRyxRQUFBLFNBQUFDLEdBQ0FILEtBQUFDLEtBQUFHLFNBQUFELE9BUEEsR0FBQUwsR0FBQUMsR0FvQ0EsUUFBQU0sTUFtS0EsUUFBQUMsR0FBQUgsR0FDQSxNQUFBQSxhQUFBSSxVQVFBLFFBQUFDLEdBQUFULEVBQUFVLEdBQ0EsTUFBQSxjQUFBVixFQUFBVSxJQUFBSCxFQUFBUCxFQUFBVSxJQUdBLE1BbE1BWCxHQUFBWSxVQUFBTixTQUFBLFNBQUFELEVBQUFRLEVBQUFDLEdBQ0EsTUFBQU4sR0FBQUgsSUFHQVMsR0FBQSxrQkFBQUQsS0FDQUMsRUFBQUQsRUFDQUEsTUFHQU4sRUFBQUYsR0FFQUgsS0FBQUQsVUFBQUksRUFBQVEsUUFBQUYsSUFBQU4sRUFFQVMsR0FBQSxrQkFBQUEsR0FDQUEsRUFBQSxLQUFBVCxHQURBLFFBWEFTLEVBQUEsR0FBQUMsT0FBQSxzQ0EwQkFmLEVBQUFZLFVBQUFJLFdBQUEsU0FBQUgsRUFBQUMsR0FPQSxHQU5BQSxHQUFBLGtCQUFBRCxLQUNBQyxFQUFBRCxFQUNBQSxLQUNBQSxFQUFBSSxNQUFBLFFBR0FmLEtBQUFnQix5QkFDQSxNQUFBSixHQUFBLEdBQUFDLE9BQUEsdUNBRUEsSUFBQUksR0FBQUMsT0FBQUMsS0FBQW5CLEtBQUFELFdBQ0FBLElBWUEsT0FYQWtCLEdBQUFmLFFBQUEsU0FBQU8sR0FFQUQsRUFBQUMsSUFDQVQsS0FBQW9CLFlBQUFYLEVBQUEsU0FBQVksRUFBQWxCLEdBQ0FrQixHQUFBdEIsRUFBQXVCLEtBQUFuQixPQU9BUyxHQUFBLGtCQUFBQSxHQUNBQSxFQUFBLEtBQUFiLEdBREEsUUFVQUQsRUFBQVksVUFBQVUsWUFBQSxTQUFBWCxFQUFBRyxHQUVBLElBQUFaLEtBQUFnQix5QkFDQSxNQUFBSixHQUFBLEdBQUFDLE9BQUEsdUNBRUEsS0FBQUwsRUFBQVIsS0FBQUQsVUFBQVUsR0FDQSxNQUFBRyxHQUFBLEdBQUFDLE9BQUEsSUFBQUosRUFBQSxrQ0FHQSxJQUFBYyxHQUFBdkIsS0FBQUQsVUFBQVUsRUFHQSxPQUZBYyxHQUFBQyxlQUVBWixHQUFBLGtCQUFBQSxHQUNBQSxFQUFBLEtBQUFXLEdBRUFBLEdBU0F6QixFQUFBWSxVQUFBZSxXQUFBLFNBQUFoQixFQUFBRyxHQUVBLElBQUFaLEtBQUFnQix5QkFDQSxNQUFBSixHQUFBLEdBQUFDLE9BQUEsdUNBQUEsS0FJQSxJQUFBTCxFQUFBUixLQUFBRCxVQUFBVSxHQUNBLE1BQUFHLEdBQUEsR0FBQUMsT0FBQSxJQUFBSixFQUFBLGtDQUVBLElBQUFpQixHQUFBMUIsS0FBQUQsVUFBQVUsRUFHQSxjQUZBVCxNQUFBRCxVQUFBVSxHQUVBRyxHQUFBLGtCQUFBQSxHQUNBQSxFQUFBLEtBQUFjLEdBRUFBLEdBVUE1QixFQUFBWSxVQUFBaUIsY0FBQSxTQUFBZixHQUNBLElBQUFaLEtBQUFnQix5QkFDQSxNQUFBSixHQUFBLEdBQUFDLE9BQUEsd0NBRUEsSUFBQWUsR0FBQUMsS0FBQUMsTUFBQUQsS0FBQUUsVUFBQS9CLEtBQUFELFdBSUEsT0FGQUMsTUFBQUQsYUFFQWEsR0FBQSxrQkFBQUEsR0FDQUEsRUFBQSxLQUFBZ0IsR0FFQUEsR0FVQTlCLEVBQUFZLFVBQUFzQixrQkFBQSxXQUNBLEdBQUFDLElBQUEsQ0FHQSxJQUFBakMsS0FBQWdCLHlCQUFBLENBQ0EsR0FBQUMsR0FBQUMsT0FBQUMsS0FBQW5CLEtBQUFELFVBRUFrQixHQUFBZixRQUFBLFNBQUFPLEdBQ0FELEVBQUFDLElBQ0FULEtBQUFELFVBQUFVLEdBQUF5QixNQUFBaEMsUUFDQSxTQUFBaUMsR0FDQSxNQUFBLFdBQUFBLEVBQUFDLFlBQ0FILEdBQUEsR0FEQSxTQU9BQSxJQUlBLE1BQUFBLElBVUFuQyxFQUFBWSxVQUFBTSx1QkFBQSxXQUNBLE1BQUFFLFFBQUFDLEtBQUFuQixLQUFBRCxXQUFBc0MsT0FBQSxHQVNBdkMsRUFBQXdDLGVBQUEsU0FBQTdCLEVBQUFFLEdBRUEsR0FBQTRCLEdBQUEsR0FBQWhDLFVBQUFFLEVBQUFFLEVBRUEsT0FBQTRCLElBZ0JBekMiLCJmaWxlIjoiZHJvcHpvbmUtbWFuYWdlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBEcm9wem9uZU1hbmFnZXIgPSAoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRmdW5jdGlvbiBEcm9wem9uZU1hbmFnZXIoZHJvcHpvbmVzKSB7XG5cdFx0aWYoISh0aGlzIGluc3RhbmNlb2YgRHJvcHpvbmVNYW5hZ2VyKSlcblx0XHRcdHJldHVybiBuZXcgRHJvcHpvbmVNYW5hZ2VyKGRyb3B6b25lcyk7XG5cdFx0XG5cdFx0dGhpcy5zZWxmID0gdGhpcztcblx0XHR0aGlzLmRyb3B6b25lcyA9IHt9OyAvLyBjb252ZXJ0IHRoaXMgdG8gRGljdGlvbmFyeVtpZF0gPSBkcm9wem9uZVxuXG5cdFx0aWYoZHJvcHpvbmVzKSB7XG5cdFx0XHRkcm9wem9uZXMuZm9yRWFjaChmdW5jdGlvbihkcm9wem9uZSkge1xuXHRcdFx0XHR0aGlzLnNlbGYucmVnaXN0ZXIoZHJvcHpvbmUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0XG5cdC8qKlxuXHQqXG5cdCogQWRkcyBhIGRyb3B6b25lIHRvIHRoZSBtYW5hZ2VyXG5cdCpcblx0KiovXG5cdERyb3B6b25lTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbihkcm9wem9uZSwgb3B0aW9ucywgY2FsbGJhY2spIHtcblx0XHRpZighaXNEcm9wem9uZUluc3RhbmNlKGRyb3B6b25lKSlcblx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ05vdCBhIHZhbGlkIGRyb3B6b25lIHRvIHJlZ2lzdGVyJykpO1xuXHRcdFxuXHRcdGlmKCFjYWxsYmFjayAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyl7XG5cdFx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0fVxuXG5cdFx0aW5pdERyb3B6b25lKGRyb3B6b25lKTsgLy8gaW5pdGlhbGl6ZSB0aGUgbmV3IGRyb3B6b25lLCB0aGVuIGFkZFxuXG5cdFx0dGhpcy5kcm9wem9uZXNbZHJvcHpvbmUub3B0aW9ucy5pZF0gPSBkcm9wem9uZTsgLy8gYWRkIHRvIGRpY3Rpb25hcnlcblx0XHRcblx0XHRpZihjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgZHJvcHpvbmUpOyAvLyByZXR1cm4gbmV3bHkgcmVnaXN0ZXJlZCBhbmQgaW5pdGlhbGl6ZWQgZHJvcHpvbmVcblx0fTtcblxuXG5cdGZ1bmN0aW9uIGluaXREcm9wem9uZShkcm9wem9uZSkge1xuXHRcdC8vIFRPRE86IGFkZCBhZGRpdGlvbmFsIHByb3BlcnRpZXNcblx0fVxuXG5cblx0LyoqXG5cdCpcblx0KiBQcm9jZXNzZXMgYWxsIHJlZ2lzdGVyZWQgZHJvcHpvbmVzIHdpdGggcXVldWVkIGZpbGVzIGZvciB1cGxvYWQuIFxuXHQqXG5cdCoqL1xuXHREcm9wem9uZU1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NBbGwgPSBmdW5jdGlvbihvcHRpb25zLCBjYWxsYmFjaykge1xuXHRcdGlmKCFjYWxsYmFjayAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xuXHRcdFx0b3B0aW9ucyA9IHt9O1xuXHRcdFx0b3B0aW9ucy5vcmRlciA9ICdBU0MnO1xuXHRcdH1cblxuXHRcdGlmKCF0aGlzLmhhc1JlZ2lzdGVyZWREcm9wem9uZXMoKSlcblx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5hZ2VyIGhhcyBubyBkcm9wem9uZXMgcmVnaXN0ZXJlZFwiKSk7XG5cblx0XHR2YXIgaWRzID0gT2JqZWN0LmtleXModGhpcy5kcm9wem9uZXMpO1xuXHRcdHZhciBkcm9wem9uZXMgPSBbXTtcblx0XHRpZHMuZm9yRWFjaChmdW5jdGlvbihpZCkge1xuXHRcdFx0Ly8gY2hlY2sgaWYgdGhlIGRyb3B6b25lIGlzIHJlZ2lzdGVyZWQgd2l0aCBpZFxuXHRcdFx0aWYoaXNSZWdpc3RlcmVkKGlkKSkgXG5cdFx0XHRcdHRoaXMucHJvY2Vzc0J5SWQoaWQsIGZ1bmN0aW9uKGVyciwgZHJvcHpvbmUpIHtcblx0XHRcdFx0XHRpZighZXJyKSBkcm9wem9uZXMucHVzaChkcm9wem9uZSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gZ2V0IGNvbGxlY3Rpb24gb2YgZHJvcHpvbmVzIHRoYXQgd2VyZSBwcm9jZXNzZWRcblx0XHQvLyBwYXNzIGluIGNhbGxiYWNrXG5cblx0XHRpZihjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgZHJvcHpvbmVzKTtcblx0fTtcblxuXG5cdC8qKlxuXHQqXG5cdCogUHJvY2Vzc2VzIHRoZSBxdWV1ZSBvZiBhIHNwZWNpZmljIHJlZ2lzdGVyZWQgZHJvcHpvbmUgd2l0aCBpZFxuXHQqXG5cdCoqL1xuXHREcm9wem9uZU1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NCeUlkID0gZnVuY3Rpb24oaWQsIGNhbGxiYWNrKSB7XG5cblx0XHRpZighdGhpcy5oYXNSZWdpc3RlcmVkRHJvcHpvbmVzKCkpXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiTWFuYWdlciBoYXMgbm8gZHJvcHpvbmVzIHJlZ2lzdGVyZWRcIikpO1xuXG5cdFx0aWYoIWlzUmVnaXN0ZXJlZCh0aGlzLmRyb3B6b25lcywgaWQpKVxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignXCInICsgaWQgKyAnXCIgaXMgbm90IGEgcmVnaXN0ZXJlZCBEcm9wem9uZScpKTtcblxuXHRcdC8vIFRPRE8gZmluaXNoXG5cdFx0dmFyIHByb2Nlc3NlZERyb3B6b25lID0gdGhpcy5kcm9wem9uZXNbaWRdO1xuXHRcdHByb2Nlc3NlZERyb3B6b25lLnByb2Nlc3NRdWV1ZSgpO1xuXG5cdFx0aWYoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKVxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIHByb2Nlc3NlZERyb3B6b25lKTtcblxuXHRcdHJldHVybiBwcm9jZXNzZWREcm9wem9uZTtcblx0fTtcblxuXG5cdC8qKlxuXHQqXG5cdCogQ2xlYXJzIG91dCB0aGUgbWFuYWdlciBvZiByZWdpc3RlcmVkIGRyb3B6b25lIHdpdGggc3BlY2lmaWVkIGlkXG5cdCpcblx0KiovXG5cdERyb3B6b25lTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQnlJZCA9IGZ1bmN0aW9uKGlkLCBjYWxsYmFjaykge1xuXHRcdFxuXHRcdGlmKCF0aGlzLmhhc1JlZ2lzdGVyZWREcm9wem9uZXMoKSlcblx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ01hbmFnZXIgaGFzIG5vIGRyb3B6b25lcyByZWdpc3RlcmVkJyksIG51bGwpO1xuXG5cdFx0Ly8gVE9ETyBmaW5pc2hcblx0XHQvLyBDaGVjayBpZiBpZCBpcyByZWdpc3RlcmVkIFxuXHRcdGlmKGlzUmVnaXN0ZXJlZCh0aGlzLmRyb3B6b25lcywgaWQpKVxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignXCInICsgaWQgKyAnXCIgaXMgbm90IGEgcmVnaXN0ZXJlZCBEcm9wem9uZScpKTtcblxuXHRcdHZhciByZW1vdmVkRHJvcHpvbmUgPSB0aGlzLmRyb3B6b25lc1tpZF07XG5cdFx0ZGVsZXRlIHRoaXMuZHJvcHpvbmVzW2lkXTsgLy8gcmVtb3ZlIGZyb20gY29sbGVjdGlvblxuXG5cdFx0aWYoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKVxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIHJlbW92ZWREcm9wem9uZSk7XG5cblx0XHRyZXR1cm4gcmVtb3ZlZERyb3B6b25lOyBcblx0fTtcblxuXG5cdC8qKlxuXHQqIFxuXHQqIENsZWFycyBvdXQgdGhlIG1hbmFnZXIgb2YgYWxsIGRyb3B6b25lcyByZWdpc3RlcmVkIHdpdGggY2FsbGJhY2sgcmV0dXJuaW5nIHRoZSBkcm9wem9uZXNcblx0KiBPKDEpXG5cdCogXG5cdCoqL1xuXHREcm9wem9uZU1hbmFnZXIucHJvdG90eXBlLnVucmVnaXN0ZXJBbGwgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdGlmKCF0aGlzLmhhc1JlZ2lzdGVyZWREcm9wem9uZXMoKSkgXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdNYW5hZ2VyIGhhcyBubyBkcm9wem9uZXMgcmVnaXN0ZXJlZC4nKSk7XG5cblx0XHR2YXIgdW5yZWdpc3RlcmVkRHJvcHpvbmVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRyb3B6b25lcykpOyAvLyBjcmVhdGUgYW4gdW5yZWZlcmVuY2VkIGNvcHlcblx0XG5cdFx0dGhpcy5kcm9wem9uZXMgPSB7fTsgLy8gcmVzZXQgdG8gZW1wdHkgb2JqZWN0IGRpY3Rpb25hcnlcblxuXHRcdGlmKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCB1bnJlZ2lzdGVyZWREcm9wem9uZXMpOyAvLyByZXR1cm4gYWxsIGRyb3B6b25lcyB0aGF0IGdvdCByZW1vdmVkXG5cdFxuXHRcdHJldHVybiB1bnJlZ2lzdGVyZWREcm9wem9uZXM7XG5cdH07XG5cblxuXHQvKipcblx0KlxuXHQqIENoZWNrcyBpZiBhbnkgZHJvcHpvbmUgaW4gdGhlIG1hbmFnZXIgaGFzIHBlbmRpbmcgZmlsZXMgZm9yIHVwbG9hZFxuXHQqIE8obilcblx0KiBcblx0KiovXG5cdERyb3B6b25lTWFuYWdlci5wcm90b3R5cGUuaGFzQW55UXVldWVkRmlsZXMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaGFzUXVldWVkID0gZmFsc2U7XG5cblx0XHQvLyBDaGVjayBpZiB0aGVyZSdzIGFueSByZWdpc3RlcmVkIGRyb3B6b25lcyBmaXJzdC4gUmV0dXJuIGZhbHNlIGlmIG5vbmUuXG5cdFx0aWYodGhpcy5oYXNSZWdpc3RlcmVkRHJvcHpvbmVzKCkpIHtcblx0XHRcdHZhciBpZHMgPSBPYmplY3Qua2V5cyh0aGlzLmRyb3B6b25lcyk7IC8vIGdldCBhbGwgdGhlIGtleXNcblxuXHRcdFx0aWRzLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcblx0XHRcdFx0aWYoaXNSZWdpc3RlcmVkKGlkKSkge1xuXHRcdFx0XHRcdHRoaXMuZHJvcHpvbmVzW2lkXS5maWxlcy5mb3JFYWNoKFxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZmlsZS5zdGF0dXMgPT09IFwicXVldWVkXCIpIHtcblx0XHRcdFx0ICAgICAgICAgICAgICAgIGhhc1F1ZXVlZCA9IHRydWU7XG5cdFx0XHRcdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdFx0XHQgICAgICAgICAgICBcdH0gICAgICAgICAgICBcdFx0XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKGhhc1F1ZXVlZCkgcmV0dXJuO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdCAgICByZXR1cm4gaGFzUXVldWVkO1xuXHR9O1xuXG5cblxuXHQvKipcblx0KlxuXHQqIENoZWNrIGZvciBhbnkgZHJvcHpvbmVzIGluIG1hbmFnZXJcblx0KlxuXHQqKi9cblx0RHJvcHpvbmVNYW5hZ2VyLnByb3RvdHlwZS5oYXNSZWdpc3RlcmVkRHJvcHpvbmVzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZHJvcHpvbmVzKS5sZW5ndGggPiAwO1xuXHR9O1xuXG5cblx0LyoqXG5cdCpcblx0KiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgZHJvcHpvbmVzXG5cdCpcblx0KiovXG5cdERyb3B6b25lTWFuYWdlci5jcmVhdGVEcm9wem9uZSA9IGZ1bmN0aW9uKGlkLCBvcHRpb25zKSB7XG5cdFx0Ly8gVE9ETyBQcm94eSB0byBhZGQgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFuZCB2YWxpZGF0aW9uXG5cdFx0dmFyIG5ld0Ryb3B6b25lID0gbmV3IERyb3B6b25lKGlkLCBvcHRpb25zKTtcblxuXHRcdHJldHVybiBuZXdEcm9wem9uZTtcblx0fTtcblxuXHRmdW5jdGlvbiBpc0Ryb3B6b25lSW5zdGFuY2UoZHJvcHpvbmUpIHtcblx0XHRyZXR1cm4gKGRyb3B6b25lIGluc3RhbmNlb2YgRHJvcHpvbmUpO1xuXHR9XG5cblx0LyoqXG5cdCpcblx0KiBDaGVjayBpZiBkcm9wem9uZSBpcyByZWdpc3RlcmVkIHdpdGggdGhhdCBpZC5cblx0KlxuXHQqKi9cblx0ZnVuY3Rpb24gaXNSZWdpc3RlcmVkKGRyb3B6b25lcywgaWQpIHtcblx0XHRyZXR1cm4gZHJvcHpvbmVzW2lkXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpc0Ryb3B6b25lSW5zdGFuY2UoZHJvcHpvbmVzW2lkXSk7XG5cdH1cblxuXHRyZXR1cm4gRHJvcHpvbmVNYW5hZ2VyO1xuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9